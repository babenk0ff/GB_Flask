{% extends 'base.html' %}

{% block title %}
    Edit article
{% endblock %}

{% block body %}
    <h1>Edit article</h1>
    <div>
        {% if error %}
            <div class="alert alert-danger" role="alert">
                {{ error }}
            </div>
        {% endif %}
        <form method="post">
            {{ form.csrf_token }}

            {% for field_name in ['title', 'body',] %}
                {% set field = form[field_name] %}
                <div class="my-3">
                    {{ field.label(class="form-label") }}
                    {{ field(class="form-control") }}
                </div>
            {% endfor %}
            <div class="my-3">
                <label for="tags">Tags</label>
                <select name="tags" id="tags" multiple class="form-control">
                    {% for tag in form_tags %}
                        <option value="{{ tag[0] }}" {% if tag[1] in article_tags %}selected{% endif %}>{{ tag[1] }}</option>
                    {% endfor %}
                </select>
            </div>
            {{ form.submit(class="btn btn-primary my-3") }}
        </form>
    </div>
{% endblock %}